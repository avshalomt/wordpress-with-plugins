# Wordpress with preinstalled plugins

## Built & run

### Building commands
In order to build it run:

    git clone ^this_repo^
    cd ^repo_folder^
    docker build .


### Test run
In order to run it try the following (for development & testing purpose only):

    docker run --name ^a name^  -e MYSQL_ROOT_PASSWORD=^a super strong password^ -d mariadb
    docker run --name ^an another name^ --link ^a name^:mysql -p 8080:80 -e WORDPRESS_URL=^your site's url^  -d ^autogenerated hash^

### Enviromentall variables  & configuration
Supports these extra enviromental variables:

- WORDPRESS_ADMIN_USERNAME (default: admin) That is the username of the admin user
- WORDPRESS_ADMIN_PASSWORD (default: admin) That is the password of the admin user. __PLEASE DO CHANGE WHEN ON PRODUCTION__.
- WORDPRESS_ADMIN_EMAIL (default:admin@example.com) The administrator email. (Recomended to change.)
- WORDPRESS_URL (default: localhost) Your site's url
- WORDPRESS_TITLE (default: 'My localhost site') The title to be displayed when generating the site.

Also inherits all the enviromental varialbes from the original wordpress docker image: https://hub.docker.com/_/wordpress/

## Recomended Testing & Reverse proxy settting for depployment

### Testing via browser __WITHOUT__ proxy:

On you terminal type:

> docker inspect ^container name or hash^

And on the json that has been output look for `"IPAddress"` visit this ip addresss to your borwser and it will work (with broken urls for assets)

### Using apache2 as reverse proxy: (Recomended way)

The best way to test it is to use apache2 (or another web server or web proxy) in order to achieve a multi purpose testing and deployment bedrock.

The minimal configutation for apache2 is to enaable:

And create the following virtualhost.

````
<VirtualHost *:80>

ProxyPass /  ^sites' url or container's ip^/
ProxyPassReverse  ^sites' url or container's ip^/ /

</Virtualhost>
```

Or Alternatively (for development & testing purpose):

````
<VirtualHost *:80>

ProxyPass /somename  ^container's ip^/
ProxyPassReverse  ^container's ip^/ /somename

</Virtualhost>
```

Note that the value that replaces ^sites' url or container's ip^ must be a valid url starting with http or https and ending with / (in order for assets to work)

### Further Deployment notes

- When deploying always use a valid url in order to word.
- Even on testing and development please use a webserver as reverse proxy.
